(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449,214],{3454:function(e,n,t){"use strict";var r,o;e.exports=(null===(r=t.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(o=t.g.process)||void 0===o?void 0:o.env)?t.g.process:t(7663)},3449:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),o=t(7294);const i=(0,o.createContext)(null),u=i.Provider;function c(){const e=(0,o.useContext)(i);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var a=t(5243);function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}function s({bounds:e,boundsOptions:n,center:t,children:r,className:i,id:c,placeholder:s,style:f,whenReady:h,zoom:d,...p},v){const[g]=(0,o.useState)({className:i,id:c,style:f}),[m,y]=(0,o.useState)(null);(0,o.useImperativeHandle)(v,(()=>m?.map??null),[m]);const b=(0,o.useCallback)((r=>{if(null!==r&&null===m){const o=new a.Map(r,p);null!=t&&null!=d?o.setView(t,d):null!=e&&o.fitBounds(e,n),null!=h&&o.whenReady(h),y(function(e){return Object.freeze({__version:1,map:e})}(o))}}),[]);(0,o.useEffect)((()=>()=>{m?.map.remove()}),[]);const x=m?o.createElement(u,{value:m},r):s??null;return o.createElement("div",l({},g,{ref:b}),x)}const f=(0,o.forwardRef)(s);t(3935);function h(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function d(e,n){return null==n?function(n,t){return(0,o.useRef)(e(n,t))}:function(t,r){const i=(0,o.useRef)(e(t,r)),u=(0,o.useRef)(t),{instance:c}=i.current;return(0,o.useEffect)((function(){u.current!==t&&(n(c,t,u.current),u.current=t)}),[c,t,r]),i}}function p(e,n){const t=(0,o.useRef)();(0,o.useEffect)((function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}}),[e,n])}function v(e,n){const t=e.pane??n.pane;return t?{...e,pane:t}:e}function g(e,n){(0,o.useEffect)((function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}function m(e){return function(n){const t=c(),r=e(v(n,t),t);return function(e,n){const t=(0,o.useRef)(n);(0,o.useEffect)((function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n}),[e,n])}(t.map,n.attribution),p(r.current,n.eventHandlers),g(r.current,t),r}}function y(e){return function(n){const t=c(),r=e(v(n,t),t);return p(r.current,n.eventHandlers),g(r.current,t),function(e,n){const t=(0,o.useRef)();(0,o.useEffect)((function(){if(n.pathOptions!==t.current){const r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}}),[e,n])}(r.current,n),r}}const b=function(e){function n(n,t){const{instance:r}=e(n).current;return(0,o.useImperativeHandle)(t,(()=>r)),null}return(0,o.forwardRef)(n)}(m(d((function({url:e,...n},t){return h(new a.TileLayer(e,v(n,t)),t)}),(function(e,n,t){const{opacity:r,zIndex:o}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=o&&o!==t.zIndex&&e.setZIndex(o)}))));function x(){return c().map}const w=function(e,n){return function(e){function n(n,t){const{instance:r,context:i}=e(n).current;return(0,o.useImperativeHandle)(t,(()=>r)),null==n.children?null:o.createElement(u,{value:i},n.children)}return(0,o.forwardRef)(n)}(y(d(e,n)))}((function({data:e,...n},t){const r=new a.GeoJSON(e,n);return h(r,(o=t,i={overlayContainer:r},Object.freeze({...o,...i})));var o,i}),(function(e,n,t){n.style!==t.style&&(null==n.style?e.resetStyle():e.setStyle(n.style))}));var C=t(1163),A=t(1864),T=t.n(A),E=function(e){var n=e.track,t=(0,o.useState)(0),i=t[0],u=t[1],c=x(),a=(0,C.useRouter)();return(0,o.useEffect)((function(){var e=T().join(a.basePath,n).replace(".gpx",".geojson");fetch(e).then((function(e){return e.json()})).then((function(e){c.fitBounds(e.bounds,{padding:[50,50]}),u(e)}))}),[]),i?(0,r.jsx)(w,{data:i}):null};function j(e){var n=e.track;return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"my-5 h-1/2",children:(0,r.jsxs)(f,{center:[51.505,-.09],zoom:4,scrollWheelZoom:!1,className:"h-96 w-full",children:[(0,r.jsx)(b,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(E,{track:n})]})})})}},1864:function(e,n,t){var r=t(3454);!function(){"use strict";var n={977:function(e){function n(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function t(e,n){for(var t,r="",o=0,i=-1,u=0,c=0;c<=e.length;++c){if(c<e.length)t=e.charCodeAt(c);else{if(47===t)break;t=47}if(47===t){if(i===c-1||1===u);else if(i!==c-1&&2===u){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var a=r.lastIndexOf("/");if(a!==r.length-1){-1===a?(r="",o=0):o=(r=r.slice(0,a)).length-1-r.lastIndexOf("/"),i=c,u=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=c,u=0;continue}n&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,c):r=e.slice(i+1,c),o=c-i-1;i=c,u=0}else 46===t&&-1!==u?++u:u=-1}return r}var o={resolve:function(){for(var e,o="",i=!1,u=arguments.length-1;u>=-1&&!i;u--){var c;u>=0?c=arguments[u]:(void 0===e&&(e=r.cwd()),c=e),n(c),0!==c.length&&(o=c+"/"+o,i=47===c.charCodeAt(0))}return o=t(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(n(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=t(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=o.resolve(e))===(t=o.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var i=e.length,u=i-r,c=1;c<t.length&&47===t.charCodeAt(c);++c);for(var a=t.length-c,l=u<a?u:a,s=-1,f=0;f<=l;++f){if(f===l){if(a>l){if(47===t.charCodeAt(c+f))return t.slice(c+f+1);if(0===f)return t.slice(c+f)}else u>l&&(47===e.charCodeAt(r+f)?s=f:0===f&&(s=0));break}var h=e.charCodeAt(r+f);if(h!==t.charCodeAt(c+f))break;47===h&&(s=f)}var d="";for(f=r+s+1;f<=i;++f)f!==i&&47!==e.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(c+s):(c+=s,47===t.charCodeAt(c)&&++c,t.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,o=-1,i=!0,u=e.length-1;u>=1;--u)if(47===(t=e.charCodeAt(u))){if(!i){o=u;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,o=0,i=-1,u=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var c=t.length-1,a=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!u){o=r+1;break}}else-1===a&&(u=!1,a=r+1),c>=0&&(l===t.charCodeAt(c)?-1===--c&&(i=r):(c=-1,i=a))}return o===i?i=a:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!u){o=r+1;break}}else-1===i&&(u=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){n(e);for(var t=-1,r=0,o=-1,i=!0,u=0,c=e.length-1;c>=0;--c){var a=e.charCodeAt(c);if(47!==a)-1===o&&(i=!1,o=c+1),46===a?-1===t?t=c:1!==u&&(u=1):-1!==t&&(u=-1);else if(!i){r=c+1;break}}return-1===t||-1===o||0===u||1===u&&t===o-1&&t===r+1?"":e.slice(t,o)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+e+r:r}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,o=e.charCodeAt(0),i=47===o;i?(t.root="/",r=1):r=0;for(var u=-1,c=0,a=-1,l=!0,s=e.length-1,f=0;s>=r;--s)if(47!==(o=e.charCodeAt(s)))-1===a&&(l=!1,a=s+1),46===o?-1===u?u=s:1!==f&&(f=1):-1!==u&&(f=-1);else if(!l){c=s+1;break}return-1===u||-1===a||0===f||1===f&&u===a-1&&u===c+1?-1!==a&&(t.base=t.name=0===c&&i?e.slice(1,a):e.slice(c,a)):(0===c&&i?(t.name=e.slice(1,u),t.base=e.slice(1,a)):(t.name=e.slice(c,u),t.base=e.slice(c,a)),t.ext=e.slice(u,a)),c>0?t.dir=e.slice(0,c-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}},u=!0;try{n[e](i,i.exports,o),u=!1}finally{u&&delete t[e]}return i.exports}o.ab="//";var i=o(977);e.exports=i}()},7663:function(e){!function(){var n={162:function(e){var n,t,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"===typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var c,a=[],l=!1,s=-1;function f(){l&&c&&(l=!1,c.length?a=c.concat(a):s=-1,a.length&&h())}function h(){if(!l){var e=u(f);l=!0;for(var n=a.length;n;){for(c=a,a=[];++s<n;)c&&c[s].run();s=-1,n=a.length}c=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function d(e,n){this.fun=e,this.array=n}function p(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];a.push(new d(e,n)),1!==a.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}},u=!0;try{n[e](i,i.exports,r),u=!1}finally{u&&delete t[e]}return i.exports}r.ab="//";var o=r(162);e.exports=o}()},1163:function(e,n,t){e.exports=t(880)}}]);