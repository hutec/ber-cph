"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{7973:function(t,e,r){r.r(e),r.d(e,{MapOverview:function(){return m},default:function(){return x}});var n=r(5893),o=r(5715),s=r(2013),a=r(9153),c=r(4867),u=r(7294),i=r(1163),l=r(1864),p=r.n(l),h=r(8670),d=r.n(h),f=function(t){var e=t.track,r=t.updateMapBounds,o=void 0===r||r,s=t.color,l=void 0===s?"#000000":s,h=(0,u.useState)(0),d=h[0],f=h[1],m=(0,a.Sx)(),x=(0,i.useRouter)();return(0,u.useEffect)((function(){var t=p().join(x.basePath,e).replace(".gpx",".geojson");fetch(t).then((function(t){return t.json()})).then((function(t){o&&m.fitBounds(t.bounds,{padding:[50,50]}),f(t)}))}),[]),d?(0,n.jsx)(c.Q,{data:d,color:l}):null};function m(t){var e=t.posts,r=t.bounds,a=e.map((function(t){return t.track})),c=d().scale(["hotpink","#2A4858"]).mode("lch").colors(3),u=a.map((function(t,e){return{track:t,color:c[e%c.length]}}));return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"my-5 h-1/2",children:(0,n.jsxs)(o.h,{bounds:r,zoom:4,scrollWheelZoom:!0,className:"h-96 w-full",children:[(0,n.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.map((function(t){return(0,n.jsx)(f,{track:t.track,updateMapBounds:!1,color:t.color},t.track)}))]})})})}function x(t){var e=t.track;return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"my-5 h-1/2",children:(0,n.jsxs)(o.h,{center:[51.505,-.09],zoom:4,scrollWheelZoom:!1,className:"h-96 w-full",children:[(0,n.jsx)(s.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,n.jsx)(f,{track:e,updateMapBounds:!0})]})})})}}}]);